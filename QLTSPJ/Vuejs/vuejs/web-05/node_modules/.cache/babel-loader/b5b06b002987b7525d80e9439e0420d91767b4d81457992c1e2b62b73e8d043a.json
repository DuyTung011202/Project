{"ast":null,"code":"import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-fdaf08aa\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"default-combobox\",\n  ref: \"combobox\"\n};\nconst _hoisted_2 = [\"tabindex\", \"placeholder\"];\nconst _hoisted_3 = {\n  class: \"up-down\"\n};\nconst _hoisted_4 = {\n  class: \"down\"\n};\nconst _hoisted_5 = {\n  class: \"combobox__data\"\n};\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"span\", {\n    class: _normalizeClass(_ctx.iconClass)\n  }, null, 2 /* CLASS */), _withDirectives(_createElementVNode(\"input\", {\n    class: _normalizeClass(_ctx.customClass),\n    tabindex: _ctx.tab,\n    id: \"customId\",\n    placeholder: _ctx.customPlaceholder,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.textInput = $event),\n    onFocus: _cache[1] || (_cache[1] = (...args) => _ctx.onShowCbb && _ctx.onShowCbb(...args))\n  }, null, 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_2), [[_vModelText, _ctx.textInput]]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.onShowCbb && _ctx.onShowCbb(...args)),\n    class: \"icon-down-bold\"\n  })])]), _withDirectives(_createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dataFilter, (item, index) => {\n    return _openBlock(), _createElementBlock(\"a\", {\n      class: _normalizeClass([\"combobox__data--item\", {\n        'combobox__data--item-selected': item == _ctx.itemSelected\n      }]),\n      key: index,\n      onClick: $event => _ctx.onSelectItem(item)\n    }, _toDisplayString(item[_ctx.propText]), 11 /* TEXT, CLASS, PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vShow, _ctx.showCbb]])], 512 /* NEED_PATCH */);\n}","map":{"version":3,"names":["class","ref","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","_ctx","iconClass","customClass","tabindex","tab","id","placeholder","customPlaceholder","textInput","$event","onFocus","_cache","args","onShowCbb","_hoisted_3","_hoisted_4","onClick","_hoisted_5","_Fragment","_renderList","dataFilter","item","index","itemSelected","key","onSelectItem","propText","_hoisted_6","showCbb"],"sources":["C:\\Users\\Admin\\Desktop\\MISA_FRESHER_WEB\\web202305\\mf1661-ddtung\\vuejs\\web-05\\src\\components\\base\\combobox\\MISACombobox.vue"],"sourcesContent":["<template>\r\n    <div class=\"default-combobox\" ref=\"combobox\">\r\n        <span :class=\"iconClass\"></span>\r\n        <input :class=\"customClass\" :tabindex=\"tab\" id=\"customId\" :placeholder=\"customPlaceholder\" v-model=\"textInput\"\r\n            @focus=\"onShowCbb\" />\r\n        <div class=\"up-down\">\r\n            <div class=\"down\">\r\n                <div @click=\"onShowCbb\" class=\"icon-down-bold\"></div>\r\n            </div>\r\n        </div>\r\n        <div v-show=\"showCbb\" class=\"combobox__data\">\r\n            <a class=\"combobox__data--item\" :class=\"{ 'combobox__data--item-selected': item == itemSelected }\"\r\n                v-for=\"(item, index) in dataFilter\" :key=\"index\" @click=\"onSelectItem(item)\">\r\n                {{ item[propText] }}\r\n            </a>\r\n        </div>\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"MISACombobox\",\r\n    props: {\r\n        customType: {\r\n            type: String\r\n        },\r\n        iconClass: {\r\n            type: String\r\n        },\r\n        customId: {\r\n            type: String\r\n        },\r\n        customClass: {\r\n            type: String\r\n        },\r\n        customPlaceholder: {\r\n            type: String\r\n        },\r\n        api: {\r\n            type: String\r\n        },\r\n        propText: {\r\n            type: String,\r\n        },\r\n        propValue: {\r\n            type: String,\r\n        },\r\n        tab {\r\n    type: String\r\n},\r\nmodelValue: { }\r\n\r\n    },\r\ncreated() {\r\n    this.loadData();\r\n},\r\n\r\nmounted() {\r\n    document.addEventListener(\"click\", this.handleClickOutside);\r\n},\r\n\r\nbeforeUnmount() {\r\n    document.removeEventListener(\"click\", this.handleClickOutside);\r\n},\r\nwatch: {\r\n    textInput: function (newValue) {\r\n\r\n        let dataFilter = this.dataCbb.filter(i => i[this.propText].includes(newValue.toUpperCase()))\r\n        if (dataFilter != null) {\r\n            this.dataFilter = dataFilter\r\n        }\r\n    }\r\n},\r\n\r\nmethods: {\r\n    /**\r\n   * @description: lấy dữ liệu về combobox\r\n   * @author: DDTung (03/07/2023)\r\n   */\r\n    loadData() {\r\n        if (this.api) {\r\n            axios.get(this.api)\r\n                .then(res => {\r\n                    console.log(res.data);\r\n\r\n                    this.dataCbb = res.data;\r\n                    this.dataFilter = [...this.dataCbb]\r\n                    let indexSelected = this.dataFilter.findIndex(i => i[this.propValue] = this.modelValue);\r\n                    this.itemSelected = this.dataFilter[indexSelected];\r\n                    this.textInput = this.itemSelected[this.propText]\r\n\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    },\r\n    /**\r\n   * @description: ẩn hiện cbb\r\n   * @author: DDTung (03/07/2023)\r\n   */\r\n    onShowCbb() {\r\n        this.showCbb = !this.showCbb;\r\n    },\r\n    /**\r\n   * @description: xử lý sự kiện khi chọn vào 1 item cbb\r\n   * @author: DDTung (03/07/2023)\r\n   */\r\n    onSelectItem(item) {\r\n        this.itemSelected = item\r\n        this.textInput = item[this.propText]\r\n        this.showCbb = false;\r\n\r\n        this.$emit(\"update:modelValue\", item[this.propValue])\r\n    },\r\n\r\n    /**\r\n          * @description: xử lý sự kiện khi click ra ngoài cbbb\r\n          * @author: DDTung (03/07/2023)\r\n          */\r\n    handleClickOutside() {\r\n        if (!this.$refs[\"combobox\"].contains(event.target)) {\r\n            this.showCbb = false;\r\n        }\r\n    },\r\n},\r\ndata() {\r\n    return {\r\n        showCbb: false,\r\n        dataCbb: [],\r\n        dataFilter: [],\r\n        itemSelected: {},\r\n        textInput: \"\",\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.default-combobox {\r\n    position: relative\r\n}\r\n\r\n.default-combobox input {\r\n    margin-right: 11px;\r\n}\r\n\r\n.default-combobox input::placeholder {\r\n    font-size: 13px;\r\n    font-weight: 400;\r\n}\r\n\r\n.combobox-input {\r\n    background-color: #fff;\r\n    border-radius: 2.5px;\r\n    border: 1px solid #afafaf;\r\n    width: 60px;\r\n    height: 25px;\r\n    overflow: hidden;\r\n}\r\n\r\n.icon-filter {\r\n    background: var(--icon-url) no-repeat -240px -65px;\r\n}\r\n\r\n.icon-down-bold {\r\n    background: var(--icon-url) no-repeat -64px -328px;\r\n    position: absolute;\r\n    width: 24px;\r\n    height: 24px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    right: 8px !important\r\n}\r\n\r\n.icon-down-bold:hover {\r\n    cursor: pointer;\r\n}\r\n\r\n.combobox__data {\r\n    position: absolute;\r\n    display: flex;\r\n    flex-direction: column;\r\n    z-index: 11111;\r\n    width: 100%;\r\n    top: calc(100% + 2px);\r\n    box-shadow: 0 0 5px #000;\r\n    background-color: #fff;\r\n    border: 1px solid #e6e6e6;\r\n    border-radius: 4px;\r\n    max-height: 200px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.combobox__data--item {\r\n    color: black;\r\n    padding: 12px;\r\n}\r\n\r\n.combobox__data--item:hover {\r\n    background-color: #3fc5e7;\r\n    cursor: pointer;\r\n}\r\n\r\n.combobox__data--item-selected {\r\n    background-color: #22b1d5;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n.combobox__data::-webkit-scrollbar {\r\n    width: 7px;\r\n    height: 7px;\r\n}\r\n\r\n\r\n\r\n.combobox__data::-webkit-scrollbar-track {\r\n    border-radius: 10px;\r\n    background: #d1dae9;\r\n}\r\n\r\n\r\n\r\n.combobox__data::-webkit-scrollbar-thumb {\r\n    background: #abb6c8;\r\n    border-radius: 10px;\r\n}\r\n\r\n\r\n\r\n.combobox__data::-webkit-scrollbar-thumb:hover {\r\n    background: #abb6c8;\r\n}\r\n</style>"],"mappings":";;;EACSA,KAAK,EAAC,kBAAkB;EAACC,GAAG,EAAC;;;;EAIzBD,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAM;;EAICA,KAAK,EAAC;AAAgB;;;uBAThDE,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBFC,mBAAA,CAAgC;IAAzBJ,KAAK,EAAAK,eAAA,CAAEC,IAAA,CAAAC,SAAS;2CACvBH,mBAAA,CACyB;IADjBJ,KAAK,EAAAK,eAAA,CAAEC,IAAA,CAAAE,WAAW;IAAGC,QAAQ,EAAEH,IAAA,CAAAI,GAAG;IAAEC,EAAE,EAAC,UAAU;IAAEC,WAAW,EAAEN,IAAA,CAAAO,iBAAiB;+DAAWP,IAAA,CAAAQ,SAAS,GAAAC,MAAA;IACxGC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEZ,IAAA,CAAAa,SAAA,IAAAb,IAAA,CAAAa,SAAA,IAAAD,IAAA,CAAS;8EAD+EZ,IAAA,CAAAQ,SAAS,E,GAE7GV,mBAAA,CAIM,OAJNgB,UAIM,GAHFhB,mBAAA,CAEM,OAFNiB,UAEM,GADFjB,mBAAA,CAAqD;IAA/CkB,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEZ,IAAA,CAAAa,SAAA,IAAAb,IAAA,CAAAa,SAAA,IAAAD,IAAA,CAAS;IAAElB,KAAK,EAAC;0BAGtCI,mBAAA,CAKM,OALNmB,UAKM,I,kBAJFrB,mBAAA,CAGIsB,SAAA,QAAAC,WAAA,CAFwBnB,IAAA,CAAAoB,UAAU,GAA1BC,IAAI,EAAEC,KAAK;yBADvB1B,mBAAA,CAGI;MAHDF,KAAK,EAAAK,eAAA,EAAC,sBAAsB;QAAA,iCAA4CsB,IAAI,IAAIrB,IAAA,CAAAuB;MAAY;MACtDC,GAAG,EAAEF,KAAK;MAAGN,OAAK,EAAAP,MAAA,IAAET,IAAA,CAAAyB,YAAY,CAACJ,IAAI;wBACvEA,IAAI,CAACrB,IAAA,CAAA0B,QAAQ,iCAAAC,UAAA;oEAHX3B,IAAA,CAAA4B,OAAO,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}